jonashaslbeck@gmail.com; July 2018

This readme file describes the code files in the reproducibility archive, which allow to rerun the simulation and reproduce the simulation-related figures in the paper.

A) The archive contains the following files:

Generating Data
(1) modSim_simulation_data.R: Samples data from MNMs for the simulation
(2) modSim_submit_est.sh: Bash script that calls (3) 150 times
(3) modSim_jobs_est.sh: Bash script that calls (1) with i = 1, 2, ..., 150

Estimating Models
(4) modSim_simulation_est.R: Estimates MNMs, NCT, FGL on the data generated by (1)
(5) modSim_submit_est.sh: Bash script that calls (6) 150 times
(6) modSim_jobs_est.sh: Bash script that calls (4) with i = 1, 2, ..., 150

Preprocessing & Plotting
(7) ChecksOnData.R: computes the 100 iterations with least rejections in rejection sampler;
                    outputs "data/first100.RDS", which is used in (8);
                    reproces Figure 10 in appendix;
                    plots the 100 graphs (not shown in paper);
(8) modSim_eval.R: Takes the output of (1), (6) and (7) as input 
                   and outputs "data/ResultsArray.RDS", the preprocessed results;
                   reproduces figures 5 & 6 in the paper;
                   reproduces figure 11 in the paper;
(9) f_EvalModNWs.R: a helper function called by (8)


B) Cluster Computer and Running Time

The files (1-3) and then (4-6) were run on a clustering computer on 100 nodes in parallel. The code in (1) uses a single core on its node while (6) uses 12 cores on each node. If one uses a cluster with less cores on its nodes, the code has to be adapted such that the design is distributed on less cores. 

The running time on each node was 60min for data generation (1-3) and 40min for estimation (4-6). It is also possible to run the simulation on a single machine, by simply writing a for loop around (1) and (6). The bash files (2-3) and (4-5) are only necessary to run (1) and (4) on a cluster computer.


C) Output files

The simulation output files combined have a size of >7 Gigabyte and are therefore not provided in the reproducibility archive. However, we provide the preprocessed simulation output in "data/ResultsArray.RDS", which is the output of (8) and used to plot the results figures in (8)


